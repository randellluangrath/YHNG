<yh-general-layout [pad]="false">
  <yh-general-layout-header [title]="'Due Diligence'">
    <yh-actions>
      <p-tabMenu
        class="question-tabs"
        [model]="items"
        [activeItem]="activeItem"
      ></p-tabMenu>
    </yh-actions>
  </yh-general-layout-header>
  <yh-general-layout-content class="content">
    <p-table
      [value]="records"
      [lazy]="true"
      [scrollable]="true"
      scrollHeight="flex"
    >
      <ng-template pTemplate="caption">
        <div
          class="caption-wrapper"
          fxLayout="row"
          fxLayoutAlign="space-between center"
          fxLayoutGap="10px"
        >
          <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px">
              <yh-text [medium]="true">Schedule:</yh-text>
              <yh-text [secondary]="true"
                >Enabled, Level 1 - 9 mos. assigned to John W.</yh-text
              >
            </div>
          </div>
          <yh-button (click)="openScheduler()">Edit Scheduler</yh-button>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr class="table-header">
          <th style="flex: 0 0 125px; padding-left: 50px">Id</th>
          <th style="flex: 0 0 125px">Opened</th>
          <th style="flex: 0 0 125px">Closed</th>
          <th style="flex: 0 0 150px">User</th>
          <th style="flex: 0 0 175px">Status</th>
          <th style="flex: 1 0 175px">Disposition</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-record>
        <tr>
          <td style="flex: 0 0 125px; padding-left: 50px">
            <yh-text [secondary]="true">{{ record.id }}</yh-text>
          </td>
          <td style="flex: 0 0 125px">
            <yh-text [secondary]="true">{{
              record.opened | date: "shortDate"
            }}</yh-text>
          </td>
          <td style="flex: 0 0 125px">
            <yh-text [secondary]="true">{{
              record.closed | date: "shortDate"
            }}</yh-text>
          </td>
          <td style="flex: 0 0 150px">
            <yh-text [secondary]="true">{{ record.user }}</yh-text>
          </td>
          <td style="flex: 0 0 175px">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px">
              <yh-risk-indicator [low]="true" size="small"></yh-risk-indicator>
              <yh-text [secondary]="true">{{ record.status }}</yh-text>
            </div>
          </td>
          <td style="flex: 1 0 175px">
            <yh-text [secondary]="true">{{ record.disposition }}</yh-text>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </yh-general-layout-content>
</yh-general-layout>
<yh-drawer
  [visible]="showSchedulerDrawer"
  [closeOnEscape]="true"
  [title]="'Edit EDD Scheduler'"
  width="800px"
  (hide)="closeScheduler()"
>
  <yh-edd-scheduler></yh-edd-scheduler>
  <yh-drawer-footer>
    <yh-button (click)="closeScheduler()">Save</yh-button>
    <yh-button (click)="closeScheduler()"> Cancel </yh-button>
  </yh-drawer-footer>
</yh-drawer>

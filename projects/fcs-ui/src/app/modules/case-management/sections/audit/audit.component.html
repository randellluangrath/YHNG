<yh-general-layout>
  <yh-general-layout-header title="Audit">
    <yh-actions> </yh-actions>
  </yh-general-layout-header>
  <yh-general-layout-content>
    <div style="height: calc(100vh - 150px)">
      <p-table
        [value]="records"
        [scrollable]="true"
        scrollDirection="vertical"
        [paginator]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rowsPerPageOptions]="[50, 75, 100]"
        [rows]="50"
        scrollHeight="flex"
      >
        >
        <ng-template pTemplate="caption">
          <div fxLayout="row" fxLayoutAlign="space-between center">
            <div
              fxLayout="row"
              fxLayoutAlign="start center"
              fxLayoutGap="15px"
              style="padding: 0 35px"
              [formGroup]="fgFilters"
            >
              <yh-text-field
                [search]="true"
                placeholder="Search Records"
                [control]="fcFreeText"
                fxFlex="200px"
              ></yh-text-field>
              <yh-dropdown-field
                fxFlex="200px;"
                placeholder="Filter User"
                [control]="fcUser"
              ></yh-dropdown-field>
              <yh-dropdown-field
                fxFlex="200px;"
                placeholder="Filter Feature"
                [control]="fcFeature"
              ></yh-dropdown-field>
              <yh-dropdown-field
                fxFlex="200px;"
                placeholder="Filter Action"
                [control]="fcAction"
              ></yh-dropdown-field>
              <yh-date-field
                fxFlex="250px;"
                placeholder="Between"
                [control]="fcRange"
                [range]="true"
                [months]="2"
                [max]="maxDate"
              ></yh-date-field>
            </div>
            <yh-button [ghost]="true">Export to Excel</yh-button>
          </div>
        </ng-template>
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="flex: 0 0 225px; padding-left: 50px">Date</th>
            <th style="flex: 0 0 150px">User</th>
            <th style="flex: 0 0 100px">Action</th>
            <th style="flex: 0 0 150px">Feature</th>
            <th>Description</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-record let-columns="columns">
          <tr>
            <td style="flex: 0 0 225px; padding-left: 50px">
              <yh-text [secondary]="true">{{
                record.created | date: "medium"
              }}</yh-text>
            </td>
            <td style="flex: 0 0 150px">
              <yh-text [secondary]="true">{{ record.user }}</yh-text>
            </td>
            <td style="flex: 0 0 100px">
              <yh-text [secondary]="true">{{ record.action }}</yh-text>
            </td>
            <td style="flex: 0 0 150px">
              <yh-text [secondary]="true">{{ record.feature }}</yh-text>
            </td>
            <td>
              <yh-text [secondary]="true">{{ record.description }}</yh-text>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </yh-general-layout-content>
</yh-general-layout>
